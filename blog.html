<!DOCTYPE HTML>
<!--
	Hyperspace by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Alex Kalams Portfolio</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- header -->
			<header id="header">
				<a href="/" class="title">Alex Kalams</a>
				<nav>
					<ul>
						<li><a href="/" class="active">Home</a></li>
						<li><a href="games">Games</a></li>
						<li><a href="projects">Projects</a></li>
						<li><a href="work">Work</a></li>
					</ul>
				</nav>
			</header>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Intro -->
					<section id="Intro" class="wrapper style1 fullscreen fade-up">
						<div class="inner">
							<h1>Introduction</h1>
							
							<p>Welcome to my blog for the Fall 2023 Wolverine Soft dev cycle. Here is where I will keep my notes from each sprint and what I worked on each week!</p>
						
							<ul class="actions">			
								<li><a href="#one" class="button scrolly">Blog 1 (9/24-10/8)</a></li>
								<li><a href="#two" class="button scrolly">Blog 2 (10/8-10/22)</a></li>
								<li><a href="#three" class="button scrolly">Blog 3 (10/22-11/5)</a></li>
							</ul>
						</div>
					</section>
				<!-- Blog 3 -->
				<section id="three" class="wrapper style2">
					<div class="inner">
						<h1>Blog 3 (10/22-11/5) - More AI</h1>
						<h2>Introduction</h2>
						<p>These past two weeks have given me the chance to fully immerse myself in the AI systems. I have been finishing up a couple AI strategies while also starting on a new system that will hopefully help our AI make better decisions.</p>
						
						<h2>Meetings (4 hours)</h2>
						<p>As usual, we had our weekly studio meetings to discuss planned features and playtest the current build.</p>

						<h2>AI Purchase Behavior (6 hours)</h2>
						<p>During week 2 of sprint 2, I was tasked with finishing up the purchase behavior for the AI. If you remember last week, I had written a formula to help calculate the best unit to spawn and wheret to spawn it. This week, I just had to implement it.</p>

						<p>I began by figuring out a way to calculate the best unit to fit in a team comp. First, the AI calculates what its current unit composition is. It should ideally strive for 50% melee units, 30% ranged units, and 20% aerial units. If a unit helps the AI get closer to this target, it will be more likely to purchase that unit.</p>

						<p>When determining how to counter the enemy's composition, the AI will look at the proportion of the player's army that is weak to ranged and the proportion that is weaked to air units. If the player has a larger proportion of units weak to a certain type than the AI has to counter it, then the AI will prioritize purchasing the countering unit.</p>

						<p>The last element to implement was the location score. The AI should prioritize purchasing units where the AI is outnumbered by the player. To check for this, I used the AICityState implemented previously in the code base which tracks nearby allies and enemies. A strategy will lose score for placing units where the AI outnumbers the player and gain points where the player outnumbers the AI.</p>
						
						<center><video autoplay muted loop><source src="images/City Purchase.mp4"></video></center>
						<p></p>
						<h2>AI Commander Special Behaviors (6 hours)</h2>
						<p>My major task for week 1 of sprint 3 was to give the AI the ability to consider and use their commander's special ability. I started with the Swordmaster's second attack ability and the Old King's spawn unit ability.</p>

						<p>To maintain DRYness, I decided to implement the strategy for the Swordmaster's second attack within attack strategy. Theoretically, the Swordmaster's decision to use their second attack should take into account all the factors that caused them to do their first attack. Adding this behavior required the AI to check for the Second Attack ability on each unit. If a unit could attack again and had already attacked, it would consider a second attack strategy</p>

						<p>I had a similar idea of maintaining DRYness with the Old King. Since the Old King's ability effectively turns him into a city, I decided to implemented his special behavior inside the purchase strategy. I accomplished this by overloading the AICityState constructor with a set of parameters that accepts a commander instead of a city. The AI was also supposed to prioritize purchasing unit with the Old King over cities since those units will be more powerful, so I added an extra check that prevented purchase strategies from cities being created if the Old King had a special charge.</p>

						<center><img src="images/Old King Constructor.jpg" width="800" height="600"></center>
						<p></p>

						<p>However, working on these features was not a smooth process. Early on this week, I was running into a gamebreaking bug where the AI would break when attempting to capture cities. I couldn't figure out why this was happening, even when stepping through the debugger, so I decided to ask the other programmers on the team for help. After some investigating, I learned that a change had been made so that the commanders no longer could capture cities. However, the AI would still attempt to use commanders for capturing cities, causing the game to stall indefinately. Fixing this problem was as easy as adding an extra check in the city capturing strategy, but it was a good lesson to always stay in the loop about design decisions.</p>

						<h2>AI Scriptable Objects (2 hours)</h2>
						<p>My last small task for the second week was to move some of the weights and multipliers which score AI behavior out of scripts and into scriptable objects. This will hopefully help our designers better tune the AI without needing to dive into the code themselves. I also made sure to provide helpful tooltips for everything designers know what they need to modify to change the AI's behavior.</p>
					
						<center><video autoplay muted loop><source src="images/ScriptableObjectsSmall.mp4"></video></center>
						<p></p>

						<h2>AI Tile Weighting System (1 hour)</h2>
						<p>Next week, I plan to finish a system which will allow the AI to evaluate the importance of each tile on the board. I began creating it this week, but won't finish until next week. Stay tuned to learn more about this nifty system!</p>

						<h2>Conclusion</h2>
						<p>I spent a total of 19 hours this week. I feel happy with my progress and am excited to continute to refine the AI system in our game!</p>
					</div>
				</section>	

				<!-- Blog 2 -->
				<section id="two" class="wrapper style1">
					<div class="inner">
						<h1>Blog 2 (10/8-10/22) - Bugfixing and AI</h1>
						<h2>Introduction</h2>
						<p>After getting back from my vacation, I was excited to get to get back into the swing of things in person at Wolverine Soft. These past two weeks consisted of our first QA sprint and the first half of our second feature sprint.</p>

						<h2>Meetings (4 hours)</h2>
						<p>These past two weeks had two studio meetings where we playtested a build and took notes on bugs we had and changes that needed to be made. These sessions informed what needed to be fixed in the sprint that week.</p>

						<h2>Camera Improvements (4 hours)</h2>
						<p>One of my major tasks for the QA week was polishing up the camera panning feature and adding some new features. One change I had to make was adding in the ability to double click on a unit or city to have the camera snap to it. I also had to add tooltips for all the variables that could be tweaked on the camera's movement.</p>

						<p>One of the problems I faced was with the way we handle raycasts intersecting with units. To prevent the unit from blocking the square behind it, we disable some interactions with it once it has been selected. To work around this, I had to find the script that handled unit selection and add a workaround to enable camera snapping.</p>

						<center><video autoplay muted loop><source src="images/Camera Snapping.mp4"></video></center>

						<p>Another important aspect of implementing this feature was adding sufficient customizability in editor so designers could tinker with the camera as they needed. This meant serializing things like the pan and zoom speed. To insure that the designers knew what each variable meant, I went back through and added appropriate tooltips to each variable.</p>

						<h2>Exhaust System Bug Fix (2.5 hours)</h2>
						<p>Along with fixing the camera, I was also tasked with fixing how units spawned. Newly spawned units would be able to move and attack when they should spawn exhausted.</p>

						<p>After running through the code in the debugger, I figured out that despite units being initialized as exhausted in the component, they would still spawn as if they had not moved or attacked. To fix this, I added a line in their script which would set them to exhausted on spawn. I also had to add an exception to commanders, since they should be able to move on their first turn.</p>

						<h2>AI Purchase Strategy (5 hours)</h2>
						<p>My task for week 1 of Sprint 2 was to implement the purchasing strategy for the AI player. This required me to read through both the design documentation on the AI as well as the AI scripts to understand how to implement strategies.</p>

						<p>Implementing this strategy has several intricacies since its value is dependent on a variety of factors. The power of the unit is the first thing considered, with the AI prioritizing more powerful units. The AI will also consider its current composition, seeking a balance of melee, ranged, and aerial units. The AI will also consider how it can counter its opponents forces. Taking these points in mind, I developed a starting formula to implement this coming week:</p>
						
						<center><img src="images/AI Purchase Formula.jpg" width="1200" height="300"></center>

						<h2>Conclusion</h2>
						<p>In total I spent 15.5 hours these past two weeks. I am excited to start working with the AI system and look forward to finishing up my strategies next week.</p>
					</div>
				</section>	
				<!-- Blog 1 -->
					<section id="one" class="wrapper style2">
						<div class="inner">
							<h1>Blog 1 (9/24-10/8) - A Sprint from Greece</h1>
							<h2>Introduction</h2>
							<p>This sprint was a hectic one, with me being in Greece for the entirety of the two weeks for my sister's wedding. However, it was still a blast to hop back into Multiply after working on it over the Summer!</p>
							<span class="image fit"><img src="images/greece.jpg"></span>

							<h2>Meetings (2.5 hours)</h2>
							<p>I attended the meeting at the beginning of the sprint where goals for the week were dicussed and initial tasks were assigned. Unfortunately, I was not able to attend the second meeting because of travel.</p>

							<h2>Exhaust System Improvements (2 hours)</h2>
							<p>At the beginning of this sprint, I worked on touching up the exhaust system I worked on at the end of the Summer. This system is responsible for ending the players turn automatically when they run out of possible actions. The system functions by counting up the number of units and cities a player has at the beginning of their turn. Each time a city or unit is exhausted the number of available unit is ticked down 1. When that number reaches zero, the turn ends</p>
							<p>One shortcoming of my initial design of the system was that it only counted a unit as exhausted if it both moved and attacked. If a unit moved but had no enemies it could attack, it would not exhaust. Fixing this bug required me to dig through the documentation and code for units. While digging through, I found a function that someone implemented which would generate a list of all available enemies a unit could attack in its current square. Using this method, I was able to check for possible attacks after a unit moved. If there were no possible attacks, the unit would be exhausted.</p>
							<center><img src="images/exhaust.gif" width="600" height="350"></center>

							<h2>Camera Panning (3 hours)</h2>
							<p>As maps get bigger, having a fixed camera position will become increasingly impractical. Having camera panning is an important feature to allows players to focus in on specific parts of the battlefield.</p>
							<p>Implementing this feature required me to tie the translation of the camera position to the position of the mouse on the screen. This required me to research how to get the mouse position in Unity, and then how to figure out if the mouse is located on the edge of the screen. I also had to read through the grid spawner script to understand how to access the map size, since that would affect the bounds of the camera.</p>
							<p>One problem I ran into came up while implementing the zoom. Since our camera uses orthographic projection, simply moving the camera will not create the desired zoom effect. After consulting the rest of the programming team, one suggestion made was to change the orthographic projection size, which did achieve the results I wanted.</p>
							<center><video autoplay muted loop><source src="images/Pan.mp4"></video></center>
						
							<h2>Custom Room Options (1 hours)</h2>
							<p>My final task for the sprint was adding the custom room option to set the starting currency for each player. Implementing this feature required me to use Photon's custom room properties feature, which stores custom properties in a dictionary that can accessed by any players in the room. I then just had to add a selector to the room creation UI that would modify this value.</p>
							<center><img src="images/StartCurrency.jpg"></center>

							<h2>Documentation Review (2 hours)</h2>
							<p>Since I finished all my tasks quickly this week, I spent some extra free time reviewing the documentation for Project Multiply. I mainly looked into the Custom Serialization and Turn Game Manager systems since those are systems I will work with a lot in the future.</p>

							<h2>Conclusion</h2>
							<p>In total I spent 10.5 hours on Wolverine Soft this week. Unfortunately, this is under my required 18 hours per a week. This is mainly caused by me having not much free time since I was travelling. However, this week was also an indication that I should push myself more in the coming sprints to take on more tasks.</p>
						</div>
					</section>
		<!-- Footer -->
			<footer id="footer" class="wrapper style1-alt">
				<div class="inner">
					<ul class="menu">
						<li>&copy; Alex Kalams. All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
					</ul>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>